package main;

import com.sun.xml.internal.txw2.IllegalAnnotationException;
import reactor.core.publisher.Flux;
import reactor.core.publisher.FluxSink;
import reactor.core.scheduler.Scheduler;
import reactor.core.scheduler.Schedulers;
import sun.misc.GC;

import java.security.InvalidParameterException;
import java.time.Duration;
import java.util.UUID;
import java.util.function.Consumer;
import java.util.function.Function;
import java.util.function.Predicate;
import java.util.stream.Stream;

public class App {
    public static void main(String[] args) throws Exception {
//        String TorrentFilePath = "src/main/resources/torrent-file-example.torrent";
//        TorrentFilePrinter.printTorrentFileInfo(TorrentFilePath);
//        TorrentFilePrinter.printAllPeers(TorrentFilePath);
        f1();
    }

    public static void f1() throws Exception {
        System.out.println(UUID.randomUUID().toString());
        Flux.create((FluxSink<Integer> fluxSink) -> {
            fluxSink.error(new InvalidParameterException());
        })
                .map(x -> x + 1)
                .onErrorMap(InvalidParameterException.class, (Throwable e) -> new InvalidParameterException())
                .subscribe(System.out::println, System.out::println, System.out::println);
        Thread.sleep(5 * 1000);
    }

}


//    Peer(ipAddress=35.160.55.32, tcpPort=8104)
//    Peer(ipAddress=52.59.116.245, tcpPort=8114)
//    Peer(ipAddress=68.45.123.113, tcpPort=6881)
//    Peer(ipAddress=84.76.9.211, tcpPort=6881)
//    Peer(ipAddress=86.184.180.210, tcpPort=6881)
//    Peer(ipAddress=100.11.128.230, tcpPort=6881)
//    Peer(ipAddress=138.36.166.98, tcpPort=6881)
//    Peer(ipAddress=189.61.65.16, tcpPort=6881)
//    Peer(ipAddress=200.84.37.8, tcpPort=23384)
//    Peer(ipAddress=192.142.208.111, tcpPort=10373)
//    Peer(ipAddress=184.66.152.106, tcpPort=60687)
//    Peer(ipAddress=178.221.238.96, tcpPort=18313)
//    Peer(ipAddress=141.134.130.15, tcpPort=21011)
//    Peer(ipAddress=109.122.123.158, tcpPort=36658)
//    Peer(ipAddress=109.76.175.237, tcpPort=33967)
//    Peer(ipAddress=105.110.217.255, tcpPort=53719)
//    Peer(ipAddress=88.101.57.60, tcpPort=43681)
//    Peer(ipAddress=86.170.167.230, tcpPort=46033)
//    Peer(ipAddress=82.212.112.193, tcpPort=35885)
//    Peer(ipAddress=79.169.249.147, tcpPort=15373)
//    Peer(ipAddress=76.11.44.90, tcpPort=58659)
//    Peer(ipAddress=72.11.163.214, tcpPort=30055)
//    Peer(ipAddress=64.119.192.60, tcpPort=6881)
//    Peer(ipAddress=51.36.120.250, tcpPort=44007)
//    Peer(ipAddress=37.216.23.43, tcpPort=45254)
//    Peer(ipAddress=5.29.96.159, tcpPort=8091)
//    Peer(ipAddress=200.84.37.8, tcpPort=23384)
//    Peer(ipAddress=5.29.96.159, tcpPort=8091)
//    Peer(ipAddress=34.242.175.64, tcpPort=8102)
//    Peer(ipAddress=35.160.55.32, tcpPort=8104)
//    Peer(ipAddress=52.59.116.245, tcpPort=8114)
//    Peer(ipAddress=68.45.123.113, tcpPort=6881)
//    Peer(ipAddress=86.184.180.210, tcpPort=6881)
//    Peer(ipAddress=100.11.128.230, tcpPort=6881)
//    Peer(ipAddress=189.61.65.16, tcpPort=6881)
//    Peer(ipAddress=200.84.37.8, tcpPort=23384)
//    Peer(ipAddress=197.15.22.165, tcpPort=30278)
//    Peer(ipAddress=190.231.216.227, tcpPort=12365)
//    Peer(ipAddress=190.207.55.62, tcpPort=55151)
//    Peer(ipAddress=190.19.100.142, tcpPort=35289)
//    Peer(ipAddress=186.179.101.178, tcpPort=55252)
//    Peer(ipAddress=181.121.58.219, tcpPort=43274)
//    Peer(ipAddress=178.221.238.96, tcpPort=18313)
//    Peer(ipAddress=160.0.192.16, tcpPort=28382)
//    Peer(ipAddress=141.134.130.15, tcpPort=21011)
//    Peer(ipAddress=139.47.31.207, tcpPort=51413)
//    Peer(ipAddress=109.122.123.158, tcpPort=36658)
//    Peer(ipAddress=109.76.175.237, tcpPort=33967)
//    Peer(ipAddress=105.110.217.255, tcpPort=53719)
//    Peer(ipAddress=103.248.15.2, tcpPort=64823)
//    Peer(ipAddress=95.120.146.30, tcpPort=45682)
//    Peer(ipAddress=88.101.57.60, tcpPort=43681)
//    Peer(ipAddress=87.219.127.196, tcpPort=53497)
//    Peer(ipAddress=86.170.167.230, tcpPort=46033)
//    Peer(ipAddress=85.58.149.165, tcpPort=37096)
//    Peer(ipAddress=83.165.13.182, tcpPort=16471)
//    Peer(ipAddress=83.58.141.54, tcpPort=61137)
//    Peer(ipAddress=82.159.186.34, tcpPort=50514)
//    Peer(ipAddress=79.169.249.147, tcpPort=15373)
//    Peer(ipAddress=76.11.44.90, tcpPort=58659)
//    Peer(ipAddress=72.11.163.214, tcpPort=30055)
//    Peer(ipAddress=51.36.120.250, tcpPort=44007)
//    Peer(ipAddress=39.33.67.18, tcpPort=30388)
//    Peer(ipAddress=37.228.255.218, tcpPort=13817)
//    Peer(ipAddress=37.216.23.43, tcpPort=45254)
//    Peer(ipAddress=24.89.206.212, tcpPort=21346)
//    Peer(ipAddress=5.29.96.159, tcpPort=8091)
//    Peer(ipAddress=2.138.213.235, tcpPort=56095)
//    Peer(ipAddress=200.84.37.8, tcpPort=23384)
//    Peer(ipAddress=5.29.96.159, tcpPort=8091)
//    Peer(ipAddress=35.160.55.32, tcpPort=8104)
//    Peer(ipAddress=52.59.116.245, tcpPort=8114)
//    Peer(ipAddress=84.76.9.211, tcpPort=6881)
//    Peer(ipAddress=138.36.166.98, tcpPort=6881)
//    Peer(ipAddress=200.84.37.8, tcpPort=23384)
//    Peer(ipAddress=192.142.208.111, tcpPort=10373)
//    Peer(ipAddress=82.212.112.193, tcpPort=35885)
//    Peer(ipAddress=5.29.96.159, tcpPort=8091)
